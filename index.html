<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>躺平观影厅 - 专治各种不想动的观影强迫症患者</title>
    <meta name="description" content="您必须以葛优躺姿势入场，沙发凹陷程度与观影时长成正比。">
    <meta name="keywords" content="在线视频,免费视频,视频搜索,电影,电视剧,LibreTV">
    <meta name="author" content="LibreTV Team">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tv.eve.cc/">
    <meta property="og:title" content="躺平观影厅 - 专治各种不想动的观影强迫症患者">
    <meta property="og:description" content="您必须以葛优躺姿势入场，沙发凹陷程度与观影时长成正比。">
    <meta property="og:image" content="https://images.icon-icons.com/38/PNG/512/retrotv_5520.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://tv.eve.cc/">
    <meta property="twitter:title" content="躺平观影厅 - 专治各种不想动的观影强迫症患者">
    <meta property="twitter:description" content="您必须以葛优躺姿势入场，沙发凹陷程度与观影时长成正比。">
    <meta property="twitter:image" content="https://images.icon-icons.com/38/PNG/512/retrotv_5520.png">
    
    <!-- Favicon -->
    <link rel="icon" href="https://images.icon-icons.com/38/PNG/512/retrotv_5520.png">
    <link rel="apple-touch-icon" href="https://images.icon-icons.com/38/PNG/512/retrotv_5520.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://libretv.is-an.org/">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="page-bg text-white">
    <!-- 将历史记录按钮移到左上角 -->
    <div class="fixed top-4 left-4 z-50">
        <button onclick="toggleHistory(event)" class="bg-[#222] hover:bg-[#333] border border-[#333] hover:border-white rounded-lg px-4 py-2 transition-colors" aria-label="观看历史">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
        </button>
    </div>

    <!-- 设置按钮保留在右上角 -->
    <div class="fixed top-4 right-4 z-50">
        <button onclick="toggleSettings(event)" class="bg-[#222] hover:bg-[#333] border border-[#333] hover:border-white rounded-lg px-4 py-2 transition-colors" aria-label="打开设置">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
        </button>
    </div>
    
    <!-- 历史记录面板 - 标题居中 -->
    <div id="historyPanel" class="history-panel fixed left-0 top-0 h-full bg-[#111] border-r border-[#333] p-6 z-40 transform -translate-x-full transition-transform duration-300" aria-label="观看历史" aria-hidden="true">
        <div class="flex justify-between items-center mb-6">
            <button onclick="toggleHistory()" class="text-gray-400 hover:text-white" aria-label="关闭历史">&times;</button>
            <h3 class="text-xl font-bold gradient-text mx-auto">观看历史</h3>
            <div class="w-4"></div> <!-- 添加一个占位元素以确保标题居中 -->
        </div>
        <div id="historyList" class="pb-4">
            <!-- 历史记录将在这里动态显示 -->
            <div class="text-center text-gray-500 py-8">暂无观看记录</div>
        </div>
        <div class="mt-4 text-center sticky bottom-0 pb-2 pt-2 bg-[#111]">
            <button onclick="clearViewingHistory()" class="px-4 py-2 w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 hover:from-indigo-600 hover:via-purple-600 hover:to-pink-600 text-white rounded-lg text-sm transition-all duration-300 shadow-md hover:shadow-lg">
                清空历史记录
            </button>
        </div>
    </div>

    <!-- 设置面板 -->
    <div id="settingsPanel" class="settings-panel fixed right-0 top-0 h-full w-80 bg-[#111] border-l border-[#333] p-6 z-40 overflow-y-auto" aria-label="设置面板" aria-hidden="true">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-bold gradient-text">设置</h3>
            <button onclick="toggleSettings()" class="text-gray-400 hover:text-white" aria-label="关闭设置">&times;</button>
        </div>
        <div class="space-y-5">
            <!-- 数据源设置区域 -->
            <div class="p-3 bg-[#151515] rounded-lg shadow-inner">
                <label class="block text-sm font-medium text-gray-400 mb-3 border-b border-[#333] pb-1">数据源设置</label>
                
                <!-- 批量操作按钮 -->
                <div class="flex space-x-2 mb-3">
                    <button onclick="selectAllAPIs(true)" class="px-2 py-1 bg-[#333] hover:bg-[#444] text-white text-xs rounded">全选</button>
                    <button onclick="selectAllAPIs(false)" class="px-2 py-1 bg-[#333] hover:bg-[#444] text-white text-xs rounded">全不选</button>
                    <button onclick="selectAllAPIs(true, true)" class="px-2 py-1 bg-[#333] hover:bg-[#444] text-white text-xs rounded">全选普通资源</button>
                </div>
                
                <!-- API选择区域 - 使用滚动区域 -->
                <div class="max-h-40 overflow-y-auto bg-[#191919] p-2 rounded-lg mb-3">
                    <div id="apiCheckboxes" class="grid grid-cols-2 gap-2">
                        <!-- 这里将动态插入API复选框 -->
                    </div>
                </div>
                
                <!-- API信息显示 -->
                <div class="text-xs text-gray-500 flex justify-between items-center">
                    <span>已选API数量：<span id="selectedApiCount" class="text-white">0</span></span>
                    <span id="siteStatus" class="ml-2"></span>
                </div>
            </div>

            <!-- 自定义API管理区域 -->
            <div class="p-3 bg-[#151515] rounded-lg shadow-inner">
                <div class="flex justify-between items-center mb-2">
                    <label class="block text-sm font-medium text-gray-400 border-b border-[#333] w-full pb-1">自定义API</label>
                    <button onclick="showAddCustomApiForm()" class="bg-[#333] hover:bg-[#444] text-white w-6 h-6 rounded-full text-center leading-none text-lg ml-1">+</button>
                </div>
                <div id="customApisList" class="max-h-32 overflow-y-auto mb-2">
                    <!-- 自定义API将显示在这里 -->
                </div>
            </div>
            
            <!-- 内容过滤设置区域 -->
            <div class="p-3 bg-[#151515] rounded-lg shadow-inner">
                <label class="block text-sm font-medium text-gray-400 mb-3 border-b border-[#333] pb-1">内容过滤</label>
                
                <!-- 敏感内容过滤开关 -->
                <div class="flex flex-col mb-3 pb-3 border-b border-[#222] relative">
                    <div class="flex items-center justify-between">
                        <div>
                            <label class="text-sm font-medium text-gray-400">敏感内容过滤</label>
                            <p class="text-xs text-gray-500 mt-1 filter-description">过滤"伦理片"等敏感内容</p>
                        </div>
                        <div class="relative inline-block w-12 align-middle select-none">
                            <input type="checkbox" id="yellowFilterToggle" class="opacity-0 absolute w-full h-full cursor-pointer z-10">
                            <div class="toggle-bg bg-[#333] w-12 h-6 rounded-full transition-colors duration-300 ease-in-out"></div>
                            <div class="toggle-dot absolute w-5 h-5 bg-white rounded-full top-0.5 left-0.5 transition-transform duration-300 ease-in-out"></div>
                        </div>
                    </div>
                    <!-- 警告提示将在这里动态插入 -->
                </div>
                
                <!-- 广告过滤开关 -->
                <div class="flex items-center justify-between">
                    <div>
                        <label class="text-sm font-medium text-gray-400">分片广告过滤</label>
                        <p class="text-xs text-gray-500 mt-1">关闭可减少旧版浏览器卡顿</p>
                    </div>
                    <div class="relative inline-block w-12 align-middle select-none">
                        <input type="checkbox" id="adFilterToggle" class="opacity-0 absolute w-full h-full cursor-pointer z-10">
                        <div class="toggle-bg bg-[#333] w-12 h-6 rounded-full transition-colors duration-300 ease-in-out"></div>
                        <div class="toggle-dot absolute w-5 h-5 bg-white rounded-full top-0.5 left-0.5 transition-transform duration-300 ease-in-out"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container mx-auto px-4 py-8 flex flex-col h-screen">
        <div class="flex-1 flex flex-col">
            <!-- 网站标志和口号 -->
            <header class="text-center mb-2">
                <div class="flex justify-center items-center mb-4">
                    <svg t="1744962386189" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3295" width="48" height="48"><path d="M0 0h1023.637462v1023.637462H0z" fill="#FFDD00" p-id="3296"></path><path d="M0 1023.637462V591.235937a57.792865 57.792865 0 0 1 7.037508-3.774663c5.416748-2.473791 11.217361-4.819626 16.591457-6.227128 9.276714-2.431139 17.380511-7.080159 26.038778-10.51361 5.630006-2.239207 11.750505-3.028261 16.996647-6.610991 2.601745-1.748714 6.440386-2.047275 9.639252-3.284171 1.834017-0.703751 1.91932-1.279547 1.428828-3.198867a240.298894 240.298894 0 0 1-7.464023-39.090155 145.932316 145.932316 0 0 1 0.490493-32.713748c1.066289-8.231751 2.687048-16.420851 3.241518-24.737905 0.213258-3.625383 3.774663-5.821938 4.009247-9.724556 0.490493-8.74357 5.246142-16.399525 9.404669-23.309078 6.397734-10.66289 13.39259-21.240477 22.39207-30.282608 7.591978-7.655955 16.420851-13.477893 25.01514-19.619718 5.246142-3.732012 10.705542-7.549326 17.593769-8.615615 3.881292-0.575796 7.570652-2.644397 11.302664-4.222505 11.729179-4.990233 24.354041-6.120499 36.722993-8.572964 12.049066-2.367162 24.204761-2.217881 36.232501-2.495116 8.615615-0.213258 17.551117 0.938334 26.294688 1.855343 10.428307 1.066289 20.984568 1.087615 31.135639 4.030573 9.383343 2.708374 19.129225 2.7297 28.661849 4.457088 4.819626 0.853031 9.681904 1.279547 14.288273 3.113564 4.393111 1.748714 7.506675-1.002312 10.449632-3.54008 4.222505-3.625383 8.061145-7.677281 12.368953-11.174709 3.156216-2.559094 6.696295-4.542391 8.423683-8.615615 0.95966-2.239207 3.902618-1.791366 5.757961-3.198867 4.393111-3.369473 8.445009-7.144136 12.68884-10.684216 0.682425-0.597122 1.407502-1.36485 2.196555-1.492805 6.952204-1.343524 11.942437-6.184476 17.380511-9.980465 4.265156-2.985609 9.383343-3.732012 13.541871-6.653644 5.757961-4.051898 12.880771-4.563717 19.107899-7.357394 16.52748-7.357394 33.993294-10.364329 51.885624-12.368953 11.793157-1.300873 22.967866-0.14928 34.526438 1.62076 7.826561 1.194244 15.7171 2.942958 23.884874 2.772351 6.82425-0.106629 13.435242 2.921632 19.832976 5.480726 6.397734 2.537768 12.816794 5.20349 18.873316 8.445009 7.719933 4.115876 15.290585 8.572964 22.54135 13.456567 4.179853 2.815003 7.911865 6.461711 11.302663 10.257701 4.051898 4.606369 7.890539 9.383343 12.347627 13.648499 7.336068 7.016182 12.560885 15.56782 16.890018 24.652602 4.627694 9.660579 10.364329 18.894641 13.6485 29.109691 3.945269 12.347627 9.809859 24.268738 9.639253 37.746631-0.042652 2.985609 0.767728 5.971219 1.215569 8.935502 0.213258 1.343524 0.447841 2.793677 2.17523 3.028261 2.772351 0.362538 4.947581 2.409813 7.442697 3.028261 8.146448 1.983298 15.461191 5.907241 23.138472 8.956828 7.037508 2.772351 13.712477 6.781598 20.877939 8.636941 11.665202 2.985609 21.283129 9.809859 31.988671 14.394901 10.492284 4.478414 19.960931 10.598913 29.600183 16.3782 10.279026 6.141825 21.1765 11.686528 29.3656 20.899265 0.853031 0.938334 2.217881 1.51413 3.412125 2.089926 2.985609 1.407502 6.056522 2.495116 7.37872 6.120499 0.639773 1.855343 3.945269 1.876669 4.563717 3.369473 2.601745 6.397734 10.364329 7.954516 12.795468 14.330925 0.426516 1.108941 1.492805 1.36485 2.32451 2.004623 3.497428 2.708374 6.781598 5.224816 8.999479 9.639253 1.834017 3.710686 6.504363 6.227128 8.572964 10.172397 4.478414 8.466335 11.835808 15.056001 15.503842 23.948852 1.791366 4.371785 5.843264 6.97353 7.464024 11.579899 2.473791 6.994856 5.843264 13.691151 8.530312 20.643355 3.732012 9.681904 6.97353 19.427786 9.170085 29.557532 3.476102 15.951684 5.160839 31.988671 3.177542 48.281567-1.791366 14.714789-6.269779 28.768478-11.963763 42.225045a172.312306 172.312306 0 0 1-12.304976 24.439344c-4.670346 7.464023-10.343004 14.245621-14.608159 22.029532-3.28417 6.01387-8.722244 10.598913-13.904409 15.205281-7.357394 6.504363-14.416228 13.349939-21.922902 19.683695-8.956828 7.549326-19.193202 13.328613-28.917759 19.832976-13.264635 8.89285-27.105067 16.93267-41.350688 24.098132-8.402357 4.265156-16.996647 8.402357-26.017452 11.601225-4.24383 1.492805-8.33838 4.49974-12.582211 6.717621-6.099173 3.177541-12.859446 4.734323-19.043921 7.549326-10.023117 4.542391-20.472749 8.082471-30.538518 12.496907-1.91932 0.853031-3.923944 1.386176-6.035196 1.663411-3.582731 0.469167-7.101485 1.215569-10.023117 3.625383a9.276714 9.276714 0 0 1-3.604057 1.855343c-15.375888 3.625383-29.984047 9.916488-45.487889 13.179332-6.82425 1.450153-13.371264 4.24383-20.195514 5.693983-7.826561 1.706062-15.418539 4.265156-23.458359 5.438074-5.20349 0.767728-10.449632 3.092238-15.866381 4.115876-16.634109 3.198867-32.905679 8.317054-49.795697 10.065768-5.821938 0.597122-10.833496 3.326822-16.335548 4.201179-9.852511 1.535456-18.04161 6.525689-26.23071 11.515921-4.265156 2.644397-8.317054 5.544703-10.897474 10.300352-3.326822 6.035196-9.617927 9.383343-14.138992 14.437554-4.862278 5.4594-12.688839 14.075015-23.479684 25.846846H0z" fill="#030303" p-id="3297"></path><path d="M0 630.048858c11.793157 1.684737 16.826041 3.28417 27.424954 5.992544 8.359706 2.132578 16.100964 6.205802 24.098132 9.468647 8.082471 3.28417 14.992024 8.445009 22.69063 12.198346 6.781598 3.262844 12.219672 8.423683 18.830664 11.942437 5.224816 2.793677 9.255389 7.826561 13.861757 11.814482 4.947581 4.307808 9.937814 8.59429 14.970698 12.83812 11.835808 9.937814 22.54135 21.048545 33.46015 31.924694 2.687048 2.687048 4.435762 6.333757 6.461711 9.468646 4.64902 7.165462 12.795468 11.558573 15.41854 20.21684a13.307287 13.307287 0 0 0 5.118187 6.781598c1.066289 0.789054 2.367162 1.663411 2.836329 2.815003 3.412125 8.295729 10.236375 14.330924 14.288273 22.242789 7.272091 14.181644 15.7171 27.723515 21.901576 42.566258 4.776975 11.430618 10.406981 22.456047 14.288273 34.355832 2.17523 6.717621 4.627694 13.584522 7.549326 20.174189 2.196555 4.968907 2.025949 11.132057 4.243831 16.378199 2.857655 6.802924 4.734323 13.904409 6.589666 21.005894 0.853031 3.28417 0.639773 6.866901 1.450153 10.172397 3.710686 15.183956 4.414437 30.709124 5.60868 46.170315 0.533145 6.696295 0.938334 13.435242 2.025949 20.152862 0.490493 2.900306 0.490493 11.196035 0 24.908512H0V653.677822c0.170606-15.738426 0.170606-23.607639 0-23.628964z" fill="#FEFEFE" p-id="3298"></path><path d="M439.950851 328.992815c11.707853-4.776975 23.756919-8.636941 36.381781-9.660579 8.274403-0.682425 16.27157-3.881292 24.609951-3.113563 10.428307 0.95966 21.005894 0.042652 31.242268 1.855342 13.094029 2.303184 26.124081 5.480726 38.023867 11.899786 0.533145 0.298561 0.95966 0.789054 1.51413 0.980986 12.667514 4.222505 21.965554 13.221984 32.137951 21.389758 10.620239 8.530312 16.975321 20.024908 25.143095 30.218631 7.336068 9.191411 9.745882 20.899265 14.096341 31.647458 4.286482 10.620239 4.457088 22.008205 8.786222 32.500489 1.77004 4.329133 1.087615 9.639253 1.834017 14.458879 2.004623 12.710165 0.789054 25.526959 1.343524 38.301102 0.277235 6.312431 0.213258 12.795468-1.91932 19.043922-0.725077 2.217881-1.194244 4.712997 0.298561 6.97353 0.767728 1.151592 0.55447 2.345836 0.213258 3.476102-2.964283 9.234063-3.433451 18.702709-3.092239 28.299311 0.021326 0.853031-0.533145 1.684737-0.682424 2.559094-0.703751 4.606369-2.857655 8.807547-1.450154 14.011037 1.428827 5.20349-1.855343 10.428307-2.751025 15.717101-1.961972 11.579899-5.032884 22.967866-7.037508 34.547764a47.897703 47.897703 0 0 1-4.585043 14.330924c-1.855343 3.561405-1.834017 7.93319-1.236895 11.857134 0.682425 4.563717 5.672658 6.97353 11.430618 6.525689 9.681904-0.746402 19.449112-0.874357 29.024388-2.345836 4.563717-0.682425 9.191411-0.639773 13.712477-1.663411 10.748193-2.388487 21.794948-2.665723 32.628444-4.265156 8.1891-1.236895 13.669825-12.113043 9.127434-19.257179-3.092238-4.883604-7.805236-5.544703-12.646188-4.819627-10.406981 1.492805-20.984568 1.77004-31.263594 3.497428-7.144136 1.194244-14.224296 1.236895-21.304455 2.089927-3.049587 0.362538-4.435762-0.980986-2.793677-3.476103 4.49974-6.930879 3.497428-15.056001 5.374096-22.541349 2.32451-9.362018 2.32451-19.193202 4.307808-28.533895 2.388487-11.153383 2.196555-22.434721 4.009247-33.417498 1.151592-6.866901-0.639773-14.075015 2.623071-20.600704 0.853031-1.706062 0.426516-3.54008 0.063977-5.331445-1.343524-6.56834 0.426516-13.008726 0.895683-19.491763 0.362538-4.90493 0.575796-9.809859 0.789054-14.736114 0.170606-4.478414 1.897994-5.566029 6.120499-3.838641 10.897474 4.457088 21.880251 8.722244 32.692421 13.39259 7.762584 3.390799 15.269259 7.336068 22.903888 11.025429 17.273882 8.359706 34.142575 17.273882 49.689069 28.7045 4.968907 3.668034 10.961451 6.397734 15.482517 10.51361 8.935502 8.125122 20.088885 13.925735 26.998438 24.076806 5.885915 8.615615 13.605848 15.56782 19.918279 23.735594 2.516442 3.28417 4.115876 7.250765 6.184476 10.918799 5.544703 9.895162 11.004103 19.832976 16.740737 29.642835 2.132578 3.625383 2.409813 7.741258 3.369474 11.601225 3.54008 13.989712 6.56834 28.15003 7.890539 42.523606 1.51413 16.826041-1.450153 33.012308-7.954517 48.708083-6.077847 14.714789-11.47327 29.792115-21.496386 42.353-6.141825 7.677281-12.390278 15.56782-19.619718 22.157485-5.310119 4.819626-10.343004 10.2577-16.911344 13.947061-6.82425 3.83864-12.240998 9.873836-18.766687 14.416227-8.295729 5.757961-16.975321 10.684216-25.718891 15.631798-8.295729 4.712997-17.060624 8.572964-25.313702 13.221983-7.37872 4.137201-14.714789 8.551638-22.434721 11.814483-7.93319 3.348148-16.12229 6.184476-24.034154 9.724556-12.198346 5.438074-25.036466 9.383343-37.234813 14.586834-8.956828 3.817315-18.915967 4.798301-27.169044 10.236374-2.7297 1.77004-6.141825 0.426516-9.170086 1.599434a205.921736 205.921736 0 0 1-19.832976 7.080159c-8.828873 2.516442-17.849678 4.286482-26.78518 6.525689-12.240998 3.049587-24.396693 6.461711-36.680342 9.319366-7.122811 1.642085-14.458879 2.345836-21.624342 3.817314-7.78391 1.578108-15.418539 3.795989-23.223774 5.267468s-15.695774 3.006935-23.287753 5.075536c-5.693983 1.535456-11.686528 3.454776-16.890018 6.82425-3.241519 2.068601-7.037508 3.049587-10.449632 4.840952-3.83864 2.025949-8.103797 4.222505-10.769519 6.909553-4.840952 4.926255-12.368953 7.421372-14.586834 14.928046-0.383864 1.322198-1.706062 2.452465-2.815003 3.454776-10.364329 9.468647-19.726347 19.896953-28.832455 30.58117-4.265156 4.990233-9.170086 10.449632-14.778766 16.399525h-93.748131c-0.597122-9.767207-0.874357-17.124602-0.874357-22.072183 0-7.400046 1.258221-8.1891 0.853031-12.667514-0.661099-7.677281 0.085303-15.418539-2.068601-23.074494-1.236895-4.393111-0.853031-9.212737-1.492804-13.819106-0.938334-6.802924-1.194244-13.861757-3.390799-20.259491-3.966595-11.601225-4.64902-23.820897-7.975842-35.486099-3.795989-13.285961-7.677281-26.571922-12.902097-39.388716-2.87898-7.101485-4.926255-14.544182-8.1891-21.389758-4.329133-9.106108-8.530312-18.276194-13.094029-27.296999-3.54008-6.97353-7.570652-13.733803-11.217361-20.664681-3.156216-5.949893-6.653644-11.921111-10.279026-17.700398-4.09455-6.589666-8.381032-13.030052-12.710165-19.449112-2.025949-2.985609-3.753337-6.120499-6.589666-8.487661-3.006935-2.559094-4.712997-5.928567-6.504363-9.489972a35.955266 35.955266 0 0 0-9.106109-11.515921c-7.464023-6.035196-12.02774-14.501531-18.894641-20.963243a459.655872 459.655872 0 0 1-18.979945-18.660057A93.940063 93.940063 0 0 0 127.954683 667.560906c-6.248454-4.24383-11.558573-9.70323-18.318846-13.349939-4.691672-2.537768-8.530312-6.504363-12.944748-9.575275-8.850199-6.141825-17.593769-12.475582-28.25666-15.290585-0.14928-0.021326-0.383864 0.021326-0.426515-0.063977-3.732012-5.544703-10.428307-5.928567-15.56782-8.99948-1.151592-0.682425-2.17523-1.492805-3.497428-1.91932-7.677281-2.452465-15.31191-4.947581-23.820897-7.698607 5.032884-2.452465 8.466335-5.885915 13.499219-6.930878 4.350459-0.917009 7.250765-4.840952 11.430619-6.696295 5.267468-2.345836 10.769519-3.582731 16.079638-5.566029 8.679593-3.241519 16.804715-7.78391 25.718891-10.449633 4.90493-1.428827 9.959139-2.047275 14.928047-3.326821 9.980465-2.559094 19.918279-5.502051 30.026699-7.506675 6.717621-1.300873 13.541871-1.940646 20.003582-4.371785 5.032884-1.91932 9.489972-10.343004 7.400045-16.015661-1.492805-4.115876-10.726868-8.679593-15.31191-6.994856-5.672658 2.089926-11.729179 2.17523-17.48714 4.051898-8.615615 2.815003-17.63642 4.265156-26.401316 6.547015-2.17523 0.575796-3.049587 0.277235-3.625383-1.77004-1.322198-4.755649-3.220193-9.383343-3.987921-14.224296-1.044963-6.440386-2.900306-12.710165-2.772351-19.449111 0.127955-4.585043-1.172918-9.276714-1.450153-14.075015-0.255909-4.776975 0.639773-9.383343 0.639773-14.075016-0.042652-18.084262 7.208114-34.01462 15.247933-49.987629 4.691672-9.29804 11.430618-16.378199 17.956307-23.884874 3.006935-3.454776 6.994856-6.056522 10.343004-9.255389 9.980465-9.511298 22.456047-15.077327 34.97428-19.342483a129.298207 129.298207 0 0 1 37.533373-6.824249c7.314743-0.255909 14.60816-1.51413 21.965554-1.492805 10.876148 0.085303 21.73097 1.087615 32.628444 0.490493a7.037508 7.037508 0 0 1 2.644397 0.362538c9.895162 3.412125 20.344795 3.625383 30.581169 4.371785 7.975842 0.55447 15.397213 3.710686 23.373056 3.859966 2.132578 0.042652 3.070912 1.130266 2.089926 3.668035a18.979945 18.979945 0 0 1-6.674969 8.317054 14.586834 14.586834 0 0 0-4.755649 5.267468c-3.113564 6.610992-8.487661 11.387967-12.9874 16.890018-2.473791 3.049587-1.684737 7.549326-4.137202 10.769519-0.618448 0.81038-0.682425 2.32451-1.428827 2.708374-6.461711 3.476102-7.080159 10.748193-10.769519 15.97301-3.625383 5.182165-4.49974 11.921111-9.724556 16.164941-1.535456 1.258221-1.897994 2.601745-3.838641 0.149281-1.983298-2.495116-3.817315-4.670346-4.606368-7.954516-0.853031-3.476102-3.966595-5.715309-7.250766-6.952205-2.452465-0.938334-5.224816-1.151592-7.890538-1.492804-0.789054-0.106629-1.983298 0.255909-2.452465 0.853031-2.772351 3.433451-6.056522 6.82425-6.888227 11.21736-0.767728 4.158527 1.322198 7.805236 4.137201 11.025429 4.09455 4.627694 5.288794 10.940125 8.828873 15.930358 0.618448 0.874357 0.170606 1.961972-0.55447 2.900306a70.524356 70.524356 0 0 1-13.072703 12.58221c-2.025949 1.578108-3.412125 3.220193-3.049587 6.013871 0.191932 1.450153-0.042652 2.985609-0.234584 4.457088-0.703751 5.118187 0.853031 8.530312 4.90493 10.513609 5.05421 2.473791 8.210425 1.791366 12.262324-1.876668a302.932711 302.932711 0 0 0 32.052648-33.652082c7.464023-9.170086 14.501531-18.766687 18.574755-30.197305 0.853031-2.345836 1.791366-5.096862 4.521065-6.994856 1.91932 5.331445 0.725077 10.812171 1.855343 15.994335 3.028261 14.032364 7.250765 27.808818 15.781077 39.303414 7.122811 9.596601 13.94706 19.619718 24.396693 26.742529 7.591978 5.160839 14.992024 10.151071 23.458359 13.883083 5.011558 2.217881 9.788533 4.862278 15.034675 6.738946 13.158007 4.734323 26.550597 3.795989 39.964513 3.113564 4.478414-0.213258 8.914176-1.578108 13.413915-2.025949 13.861757-1.386176 25.761543-7.954516 37.192162-15.034675 9.383343-5.800612 17.956307-12.880771 26.507945-19.875628 3.668034-2.985609 6.333757-7.186788 9.383343-10.876148 6.099173-7.37872 10.470958-15.823729 15.247933-24.05548 1.322198-2.281859 1.983298-4.606369 2.623071-7.080159 2.367162-9.084782 4.776975-18.126913 5.416748-27.59556 1.236895-18.510777-2.623071-35.805985-10.428306-52.546723-4.798301-10.321678-11.515921-19.363809-18.745361-27.766166-6.397734-7.485349-14.672137-13.307287-23.671617-18.084262a126.781765 126.781765 0 0 0-28.15003-11.387967 104.432347 104.432347 0 0 0-40.732241-2.388487c7.336068-6.632318 15.503842-9.255389 23.309079-12.454256z" fill="#262626" p-id="3299"></path><path d="M409.241727 412.931087c-2.025949 2.345836-3.198867 5.438074-5.566029 7.847887-2.751026 2.772351-3.774663 6.674969-7.12281 9.383344-3.369473 2.7297-0.383864 15.013349 3.476102 17.487139 4.371785 2.793677 10.577587 1.748714 13.39259-2.260532 4.478414-6.461711 9.020805-12.902097 13.499219-19.342483 2.473791-3.54008 5.288794-4.435762 9.596601-2.708374 6.163151 2.495116 11.579899 6.376408 17.679072 8.871524 5.438074 2.239207 10.620239 4.030573 16.463503-0.29856 6.589666-4.883604 6.888227-14.75744 0.70375-18.70271a42.246371 42.246371 0 0 0-11.857134-5.331445c-10.492284-2.772351-19.705021-8.636941-29.472228-13.008726-9.170086-4.09455-18.532103-8.039819-27.510257-12.710165-3.945269-2.047275-8.359706-0.042652-12.155695 1.578107-3.582731 1.535456-2.239207 5.395422-2.836329 8.338381-1.535456 7.613304 0.021326 10.833496 7.250766 13.605848 5.032884 1.940646 10.236375 3.476102 14.458879 7.250765m0.789054-49.475811c14.224296-3.859966 31.135639-1.876669 47.599142 3.625383 21.411084 7.186788 38.81292 20.067559 48.665431 40.774892 4.371785 9.234063 7.122811 19.40646 8.572963 29.962722 1.706062 12.454256 0.55447 24.268738-3.732011 35.763334-2.239207 5.971219-5.651332 11.515921-8.786222 17.103275-7.719933 13.755128-19.768998 23.330404-32.031322 32.628445-4.947581 3.732012-11.174709 4.990233-16.804715 7.357394-13.221984 5.544703-26.913135 7.421372-41.499969 6.610992a77.369931 77.369931 0 0 1-21.261803-4.137202c-10.876148-3.83864-21.794948-8.381032-30.602495-17.039298-7.250765-7.122811-13.691151-14.650811-18.425474-23.458359-3.518754-6.547015-6.930879-13.264635-8.103797-20.835287-1.172918-7.634629-2.516442-15.16263-2.111252-23.031843 0.426516-7.78391 1.855343-15.183956 4.009247-22.647979 2.900306-10.044443 8.89285-18.020284 15.226607-25.974801 8.807547-11.089406 19.854302-19.385134 31.668784-26.827831 7.549326-4.755649 15.887706-7.591978 27.616886-9.852511" fill="#FEFEFE" p-id="3300"></path><path d="M409.241727 412.931087c-4.24383-3.774663-9.425995-5.310119-14.458879-7.250765-7.22944-2.772351-8.786222-5.992544-7.250766-13.605848 0.597122-2.942958-0.746402-6.82425 2.836329-8.317055 3.795989-1.642085 8.210425-3.625383 12.155695-1.599433 8.978154 4.670346 18.340171 8.615615 27.510257 12.710165 9.767207 4.371785 18.979945 10.236375 29.472228 13.008726 4.222505 1.108941 8.125122 2.985609 11.857134 5.331445 6.184476 3.945269 5.885915 13.819106-0.70375 18.70271-5.843264 4.329133-11.025428 2.559094-16.463503 0.29856-6.099173-2.495116-11.515921-6.397734-17.700398-8.871524-4.265156-1.727388-7.101485-0.831705-9.575275 2.708374l-13.499219 19.342483c-2.815003 4.009247-9.020805 5.05421-13.39259 2.260532-3.83864-2.473791-6.845576-14.75744-3.476102-17.487139 3.348148-2.708374 4.371785-6.610992 7.12281-9.383344 2.345836-2.409813 3.54008-5.523377 5.566029-7.847887" fill="#030303" p-id="3301"></path></svg>
                    <h1 class="text-5xl font-bold gradient-text">躺平观影厅</h1>
                </div>
                <p class="text-gray-400 mb-8">您必须以葛优瘫姿势入场</p>
            </header>
            
            <!-- 搜索区域：默认居中 -->
            <div id="searchArea" class="flex-1 flex flex-col items-center justify-center">
                <h2 class="text-3xl font-bold gradient-text mb-8">视频搜索</h2>
                <div class="w-full max-w-2xl">
                    <div class="flex">
                        <input type="text" 
                               id="searchInput" 
                               class="w-full bg-[#111] border border-[#333] text-white px-6 py-4 rounded-l-lg focus:outline-none focus:border-white transition-colors" 
                               placeholder="搜索你喜欢的视频..."
                               aria-label="视频搜索框">
                        <button onclick="search()" 
                                class="px-8 py-4 bg-white text-black font-medium rounded-r-lg hover:bg-gray-200 transition-colors"
                                aria-label="搜索按钮">
                            搜索
                        </button>
                    </div>
                    
                    <!-- 添加最近搜索记录部分 -->
                    <div id="recentSearches" class="mt-4 flex flex-wrap gap-2" aria-label="最近搜索记录">
                        <!-- 这里会动态插入最近的搜索记录 -->
                    </div>
                    <!-- 清除历史按钮已移至搜索历史标题行 -->
                </div>
            </div>
            
            <!-- 搜索结果：初始隐藏 -->
            <div id="resultsArea" class="w-full hidden">
                <div id="results" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6">
                </div>
            </div>
        </div>
    </div>

    <!-- 页脚区域 -->
    <footer class="footer mt-8 py-6 border-t border-[#333] bg-[#0a0a0a]">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <div class="flex items-center justify-center md:justify-start">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                        </svg>
                        <span class="gradient-text font-bold">LibreTV</span>
                    </div>
                    <p class="text-gray-500 text-sm mt-2 text-center md:text-left">© 2025 LibreTV - 自由观影，畅享精彩</p>
                </div>
                
                <div class="text-center md:text-right">
                    <p class="text-gray-500 text-sm max-w-md">
                        免责声明：本站仅为视频搜索工具，不存储、上传或分发任何视频内容。
                        所有视频均来自第三方API接口。如有侵权，请联系相关内容提供方。
                    </p>
                    <div class="mt-2 flex justify-center md:justify-end space-x-4">
                        <a href="about.html" class="text-gray-400 hover:text-white text-sm transition-colors">关于我们</a>
                        <a href="privacy.html" class="text-gray-400 hover:text-white text-sm transition-colors">隐私政策</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- 详情模态框 -->
    <div id="modal" class="fixed inset-0 bg-black/95 hidden flex items-center justify-center transition-opacity duration-300">
        <div class="bg-[#111] p-8 rounded-lg w-11/12 max-w-4xl border border-[#333] max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center mb-6 flex-none">
                <h2 id="modalTitle" class="text-2xl font-bold gradient-text break-words pr-4 max-w-[80%]"></h2>
                <button onclick="closeModal()" class="text-gray-400 hover:text-white text-2xl transition-colors flex-shrink-0">&times;</button>
            </div>
            <div id="modalContent" class="overflow-auto flex-1 min-h-0">
                <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-2">
                </div>
            </div>
        </div>
    </div>

    <!-- 版权声明弹窗 -->
    <div id="disclaimerModal" class="fixed inset-0 bg-black/90 hidden items-center justify-center z-[60]">
        <div class="bg-[#111] p-8 rounded-lg border border-[#333] w-11/12 max-w-2xl max-h-[90vh] overflow-y-auto">
            <h2 class="text-2xl font-bold gradient-text mb-6 text-center">使用声明</h2>
            <div class="text-gray-300 space-y-4">
                <p>
                    欢迎使用 LibreTV。在开始使用前，请您了解并同意以下条款：
                </p>
                <p>
                    <strong class="text-blue-400">服务性质：</strong> LibreTV 仅提供视频搜索服务，不直接提供、存储或上传任何视频内容。所有搜索结果均来自第三方公开接口。
                </p>
                <p>
                    <strong class="text-blue-400">用户责任：</strong> 用户在使用本站服务时，须遵守相关法律法规，不得利用搜索结果从事侵权行为，如下载、传播未经授权的作品等。
                </p>
                <p>
                    <strong class="text-blue-400">侵权投诉：</strong> 若您是版权方或相关权利人，发现搜索结果中存在侵犯您合法权益的内容，请通过 <a href="mailto:troll@pissmail.com" class="text-blue-400 hover:underline">troll@pissmail.com</a> 向我们反馈。我们将在收到投诉后尽快核实处理。
                </p>
            </div>
            <div class="mt-6 flex justify-center">
                <button id="acceptDisclaimerBtn" class="px-6 py-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300">
                    我已了解并接受
                </button>
            </div>
        </div>
    </div>

    <!-- 错误提示框 -->
    <div id="toast" class="fixed top-4 left-1/2 -translate-x-1/2 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg transform transition-all duration-300 opacity-0 -translate-y-full">
        <p id="toastMessage"></p>
    </div>

    <!-- 添加 loading 提示框 -->
    <div id="loading" class="fixed inset-0 bg-black/80 hidden items-center justify-center z-50">
        <div class="bg-[#111] p-8 rounded-lg border border-[#333] flex items-center space-x-4">
            <div class="w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"></div>
            <p class="text-white text-lg">加载中...</p>
        </div>
    </div>

    <!-- JSON-LD 结构化数据 -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "LibreTV",
        "url": "https://libretv.is-an.org/",
        "description": "免费在线视频搜索与观看平台",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://libretv.is-an.org/?s={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>

    <script src="js/config.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/api.js"></script>
    <script src="js/app.js"></script>

    <!-- 弹窗显示脚本 -->
    <script>
        // 在页面加载完成后检查用户是否首次访问
        document.addEventListener('DOMContentLoaded', function() {
            // 检查用户是否已经看过声明
            const hasSeenDisclaimer = localStorage.getItem('hasSeenDisclaimer');
            
            if (!hasSeenDisclaimer) {
                // 显示弹窗
                const disclaimerModal = document.getElementById('disclaimerModal');
                disclaimerModal.style.display = 'flex';
                
                // 添加接受按钮事件
                document.getElementById('acceptDisclaimerBtn').addEventListener('click', function() {
                    // 保存用户已看过声明的状态
                    localStorage.setItem('hasSeenDisclaimer', 'true');
                    // 隐藏弹窗
                    disclaimerModal.style.display = 'none';
                });
            }
        });
    </script>
</body>
</html>
